<script setup>
import { reactivePick } from "@vueuse/core";
import { useToast } from "../../composables/useToast";
import Toast from "./toast/Toast.vue";
import ToastProvider from "./toast/ToastProvider.vue";
import ToastViewport from "./toast/ToastViewport.vue";
defineOptions({
  inheritAttrs: false
});
const props = defineProps({
  _toastViewport: { type: Object, required: false },
  _toast: { type: Object, required: false },
  class: { type: null, required: false },
  label: { type: String, required: false },
  duration: { type: Number, required: false },
  disableSwipe: { type: Boolean, required: false },
  swipeDirection: { type: String, required: false },
  swipeThreshold: { type: Number, required: false }
});
const rootProps = reactivePick(props, ["duration", "label", "swipeDirection", "swipeThreshold"]);
const { toasts } = useToast();
</script>

<template>
  <ToastProvider
    v-bind="rootProps"
  >
    <Toast
      v-for="t in toasts"
      :key="t.id"
      v-bind="{ ..._toast, ...$attrs, ...t }"
    >
      <template v-for="(_, name) in $slots" #[name]="slotData">
        <slot :name="name" v-bind="slotData" />
      </template>
    </Toast>

    <ToastViewport v-bind="_toastViewport" />
  </ToastProvider>
</template>
