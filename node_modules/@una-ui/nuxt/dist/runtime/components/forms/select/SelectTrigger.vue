<script setup>
import { reactiveOmit } from "@vueuse/core";
import { SelectIcon, SelectTrigger, useForwardProps } from "reka-ui";
import { computed } from "vue";
import { cn, randomId } from "../../../utils";
import Button from "../../elements/Button.vue";
import Icon from "../../elements/Icon.vue";
const props = defineProps({
  id: { type: String, required: false },
  select: { type: String, required: false, default: "outline-gray" },
  status: { type: String, required: false },
  una: { type: Object, required: false },
  disabled: { type: Boolean, required: false },
  reference: { type: null, required: false },
  asChild: { type: Boolean, required: false },
  as: { type: null, required: false },
  type: { type: String, required: false },
  loadingPlacement: { type: String, required: false },
  icon: { type: Boolean, required: false },
  reverse: { type: Boolean, required: false },
  loading: { type: Boolean, required: false },
  block: { type: Boolean, required: false },
  to: { type: null, required: false },
  label: { type: String, required: false },
  btn: { type: String, required: false },
  leading: { type: String, required: false },
  trailing: { type: String, required: false },
  size: { type: String, required: false },
  square: { type: null, required: false },
  rounded: { type: null, required: false },
  class: { type: void 0, required: false },
  breadcrumbActive: { type: String, required: false },
  breadcrumbInactive: { type: String, required: false },
  paginationSelected: { type: String, required: false },
  paginationUnselected: { type: String, required: false },
  dropdownMenu: { type: String, required: false },
  toggleOn: { type: String, required: false },
  toggleOff: { type: String, required: false },
  tabsActive: { type: String, required: false },
  tabsInactive: { type: String, required: false },
  navigationMenu: { type: String, required: false },
  navigationMenuLink: { type: String, required: false },
  ariaLabel: { type: String, required: false }
});
const forwardedProps = useForwardProps(reactiveOmit(props, "class", "status", "una", "select"));
const statusClassVariants = computed(() => {
  const btn = {
    info: "btn-outline-info",
    success: "btn-outline-success",
    warning: "btn-outline-warning",
    error: "btn-outline-error",
    default: ""
  };
  const icon = {
    info: props.una?.selectTriggerInfoIcon ?? "select-trigger-info-icon",
    success: props.una?.selectTriggerSuccessIcon ?? "select-trigger-success-icon",
    warning: props.una?.selectTriggerWarningIcon ?? "select-trigger-warning-icon",
    error: props.una?.selectTriggerErrorIcon ?? "select-trigger-error-icon",
    default: props?.trailing ?? props.una?.selectTriggerTrailingIcon ?? "select-trigger-trailing-icon"
  };
  return {
    btn: btn[props.status ?? "default"],
    icon: icon[props.status ?? "default"]
  };
});
const id = computed(() => props.id ?? randomId("select-trigger"));
const status = computed(() => props.status ?? "default");
</script>

<template>
  <SelectTrigger
    as-child
  >
    <Button
      v-bind="forwardedProps"
      :id
      :select="statusClassVariants.btn ? void 0 : props.select"
      :data-status="status"
      :class="cn(
  'select-trigger justify-between font-normal',
  props.una?.selectTrigger,
  props.class
)"
      :una="{
  ...props.una,
  btn: props.una?.selectTrigger,
  btnLeading: cn(
    'select-trigger-leading',
    props.una?.btnLeading,
    props.una?.selectTriggerLeading
  ),
  btnDefaultVariant: statusClassVariants.btn
}"
    >
      <slot />

      <template #trailing>
        <SelectIcon
          as-child
        >
          <Icon
            :data-status="status"
            :name="statusClassVariants.icon"
            :class="cn(
  'select-trigger-trailing rtl:mr-auto ltr:ml-auto',
  props.una?.btnTrailing,
  props.una?.selectTriggerTrailing
)"
          />
        </SelectIcon>
      </template>
    </Button>
  </SelectTrigger>
</template>
