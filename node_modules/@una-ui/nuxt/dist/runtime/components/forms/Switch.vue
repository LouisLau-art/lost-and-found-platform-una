<script setup>
import { reactivePick } from "@vueuse/core";
import {
  SwitchRoot,
  SwitchThumb,
  useForwardPropsEmits
} from "reka-ui";
import { cn } from "../../utils";
import NIcon from "../elements/Icon.vue";
const props = defineProps({
  loading: { type: Boolean, required: false },
  icon: { type: null, required: false },
  checkedIcon: { type: null, required: false },
  uncheckedIcon: { type: null, required: false },
  switchChecked: { type: null, required: false, default: "primary" },
  switchUnchecked: { type: null, required: false, default: "gray" },
  una: { type: Object, required: false },
  defaultValue: { type: Boolean, required: false },
  modelValue: { type: [Boolean, null], required: false },
  disabled: { type: Boolean, required: false },
  id: { type: String, required: false },
  value: { type: String, required: false },
  asChild: { type: Boolean, required: false },
  as: { type: null, required: false },
  name: { type: String, required: false },
  required: { type: Boolean, required: false },
  class: { type: null, required: false },
  size: { type: null, required: false, default: "md" }
});
const emit = defineEmits(["update:modelValue"]);
const rootPropsEmits = useForwardPropsEmits(reactivePick(props, "as", "asChild", "modelValue", "defaultValue", "disabled", "id", "name", "required", "value"), emit);
</script>

<template>
  <SwitchRoot
    v-slot="{ modelValue }"
    v-bind="rootPropsEmits"
    :class="cn(
  'peer switch',
  una?.switch,
  modelValue ? una?.switchCheckedBase : una?.switchUncheckedBase
)"
    :disabled="disabled || loading"
    :switch-checked
    :switch-unchecked
    :size
  >
    <SwitchThumb
      :class="cn(
  'peer switch-thumb',
  una?.switchThumb,
  modelValue ? 'switch-thumb-checked' : 'switch-thumb-unchecked',
  modelValue ? una?.switchThumbChecked : una?.switchThumbUnchecked
)"
    >
      <slot v-if="!loading" name="icon" :model-value>
        <NIcon
          :name="(modelValue ? checkedIcon : uncheckedIcon) || icon"
          :class="cn(
  'switch-icon',
  una?.switchIcon,
  modelValue ? ['switch-icon-checked', una?.switchIconChecked] : ['switch-icon-unchecked', una?.switchIconUnchecked]
)"
        />
      </slot>
      <slot v-else name="loading-icon" :model-value>
        <NIcon
          :class="cn(
  'switch-icon switch-loading-icon',
  una?.switchLoading
)"
          :name="una?.switchLoadingIconName || 'switch-loading-icon-name'"
        />
      </slot>
    </SwitchThumb>
  </SwitchRoot>
</template>
