<script setup>
import { reactivePick } from "@vueuse/core";
import {
  RadioGroupIndicator,
  RadioGroupItem,
  useForwardProps
} from "reka-ui";
import { cn, randomId } from "../../../utils";
import Icon from "../../elements/Icon.vue";
import Label from "../../elements/Label.vue";
defineOptions({
  inheritAttrs: false
});
const props = defineProps({
  value: { type: null, required: true },
  label: { type: String, required: false },
  radioGroup: { type: null, required: false, default: "primary" },
  description: { type: String, required: false },
  una: { type: Object, required: false },
  class: { type: null, required: false },
  size: { type: null, required: false, default: "md" },
  square: { type: null, required: false, default: "1em" },
  rounded: { type: null, required: false },
  icon: { type: null, required: false, default: "radio-group-indicator-icon" },
  id: { type: String, required: false },
  disabled: { type: Boolean, required: false },
  asChild: { type: Boolean, required: false },
  as: { type: null, required: false },
  name: { type: String, required: false },
  required: { type: Boolean, required: false }
});
const id = props.id || randomId("radio-group");
const delegatedProps = reactivePick(props, [
  "as",
  "disabled",
  "id",
  "name",
  "required",
  "value"
]);
const forwardedProps = useForwardProps(delegatedProps);
</script>

<template>
  <div
    :class="cn(
  'radio-group-item-root',
  una?.radioGroupItemRoot
)"
    :size
    :radio-group="radioGroup"
  >
    <div
      :class="cn(
  'radio-group-item-wrapper',
  una?.radioGroupItemWrapper
)"
    >
      <RadioGroupItem
        as-child
        v-bind="forwardedProps"
      >
        <button
          :id
          :class="
  cn(
    'radio-group-item',
    una?.radioGroupItem,
    props.class
  )
"
          :square
          :rounded
        >
          <RadioGroupIndicator
            :class="cn(
  'radio-group-indicator',
  una?.radioGroupIndicator
)"
          >
            <slot name="icon">
              <Icon
                :name="icon"
                :class="cn(
  'radio-group-indicator-icon-base',
  una?.radioGroupIndicatorIcon
)"
              />
            </slot>
          </RadioGroupIndicator>
        </button>
      </RadioGroupItem>

      <Label
        v-if="props.label || $slots.default"
        :for="props.id ?? id"
        :class="cn(
  'radio-group-item-label',
  una?.radioGroupItemLabel
)"
      >
        <slot>
          {{ label }}
        </slot>
      </Label>
    </div>

    <p
      v-if="description || $slots.description"
      :class="cn(
  'radio-group-item-description',
  una?.radioGroupItemDescription
)"
    >
      <slot name="description">
        {{ description }}
      </slot>
    </p>
  </div>
</template>
