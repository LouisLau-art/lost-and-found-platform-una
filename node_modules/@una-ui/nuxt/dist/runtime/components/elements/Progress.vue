<script setup>
import { reactiveOmit } from "@vueuse/core";
import {
  ProgressIndicator,
  ProgressRoot
} from "reka-ui";
import { cn } from "../../utils";
const props = defineProps({
  progress: { type: null, required: false, default: "primary" },
  size: { type: null, required: false },
  rounded: { type: null, required: false, default: "full" },
  una: { type: Object, required: false },
  modelValue: { type: [Number, null], required: false },
  max: { type: Number, required: false },
  getValueLabel: { type: Function, required: false },
  getValueText: { type: Function, required: false },
  asChild: { type: Boolean, required: false },
  as: { type: null, required: false },
  class: { type: null, required: false }
});
const delegatedProps = reactiveOmit(props, ["class"]);
</script>

<template>
  <ProgressRoot
    v-slot="{ modelValue }"
    v-bind="delegatedProps"
    :class="
  cn(
    'progress-root',
    props.una?.progressRoot,
    props.class
  )
"
    :rounded
    :progress
  >
    <slot :model-value>
      <ProgressIndicator
        v-if="modelValue !== void 0 || modelValue === null"
        :class="cn(
  'progress-indicator',
  props.una?.progressIndicator
)"
        :style="`transform: translateX(-${100 - (modelValue ?? 0)}%);`"
      />
      <template
        v-else
      >
        <ProgressIndicator
          :class="cn(
  'increase progress-indeterminate',
  props.una?.progressIndicator
)"
        />
        <ProgressIndicator
          :class="cn(
  'decrease progress-indeterminate',
  props.una?.progressIndicator
)"
        />
      </template>
    </slot>
  </ProgressRoot>
</template>

<style scoped>
.increase.progress-indeterminate{animation:progress-indeterminate-increase 2s ease-in-out infinite}.decrease.progress-indeterminate{animation:progress-indeterminate-decrease 2s ease-in-out .5s infinite}@keyframes progress-indeterminate-decrease{0%{left:-90%;width:90%}to{left:110%;width:10%}}@keyframes progress-indeterminate-increase{0%{left:-5%;width:5%}to{left:130%;width:150%}}
</style>
