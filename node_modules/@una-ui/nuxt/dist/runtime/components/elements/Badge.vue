<script setup>
import { computed } from "vue";
import NIcon from "./Icon.vue";
const props = defineProps({
  badge: { type: String, required: false },
  label: { type: String, required: false },
  icon: { type: String, required: false },
  closable: { type: Boolean, required: false },
  una: { type: Object, required: false, default: () => ({
    badgeDefaultVariant: "badge-default-variant"
  }) }
});
const emit = defineEmits(["close"]);
const badgeVariants = ["solid", "soft", "outline"];
const hasVariant = computed(() => badgeVariants.some((badgeVariants2) => props.badge?.includes(badgeVariants2)));
const isBaseVariant = computed(() => props.badge?.includes("~"));
</script>

<template>
  <span
    :badge="badge"
    class="badge"
    :class="[
  !hasVariant && !isBaseVariant ? una?.badgeDefaultVariant : '',
  una?.badge
]"
  >
    <NIcon
      v-if="icon"
      badge="icon-base"
      :class="una?.badgeIconBase"
      :name="icon"
    />

    <slot>
      {{ label }}
    </slot>

    <button
      v-if="closable"
      badge="close"
      :class="una?.badgeClose"
      group
      @click="emit('close')"
    >
      <NIcon
        :name="una?.badgeCloseIcon ?? 'badge-close-icon'"
        :class="una?.badgeCloseIconBase"
        badge="close-icon-base"
      />
      <span class="absolute -inset-0.25em" />
    </button>
  </span>
</template>
