<script setup>
import { reactiveOmit } from "@vueuse/core";
import {
  DialogContent,
  DialogPortal,
  useForwardPropsEmits
} from "reka-ui";
import { computed } from "vue";
import { cn } from "../../../utils";
import DialogClose from "./DialogClose.vue";
import DialogOverlay from "./DialogOverlay.vue";
defineOptions({
  inheritAttrs: false
});
const props = defineProps({
  dismissible: { type: Boolean, required: false, default: true },
  showClose: { type: Boolean, required: false, default: true },
  overlay: { type: Boolean, required: false, default: true },
  _dialogClose: { type: Object, required: false },
  _dialogOverlay: { type: Object, required: false },
  una: { type: Object, required: false },
  forceMount: { type: Boolean, required: false },
  disableOutsidePointerEvents: { type: Boolean, required: false },
  asChild: { type: Boolean, required: false },
  as: { type: null, required: false },
  class: { type: null, required: false }
});
const emits = defineEmits(["escapeKeyDown", "pointerDownOutside", "focusOutside", "interactOutside", "openAutoFocus", "closeAutoFocus"]);
const delegatedProps = reactiveOmit(props, ["class", "una", "_dialogOverlay", "_dialogClose"]);
const forwarded = useForwardPropsEmits(delegatedProps, emits);
const contentEvents = computed(() => {
  if (!props.dismissible) {
    return {
      pointerDownOutside: (e) => e.preventDefault(),
      interactOutside: (e) => e.preventDefault(),
      escapeKeyDown: (e) => e.preventDefault(),
      closeAutoFocus: (e) => e.preventDefault()
    };
  }
  return {
    closeAutoFocus: (e) => e.preventDefault()
  };
});
</script>

<template>
  <DialogPortal>
    <DialogOverlay
      v-if="overlay"
      v-bind="_dialogOverlay"
      :una
    />

    <DialogContent
      data-slot="dialog-content"
      v-bind="{ ...forwarded, ...$attrs }"
      :class="cn(
  'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-48% data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-48%',
  'dialog-content',
  props.una?.dialogContent,
  props.class
)"
      v-on="contentEvents"
    >
      <slot />

      <DialogClose
        v-if="showClose"
        v-bind="_dialogClose"
        class="dialog-close"
      />
    </DialogContent>
  </DialogPortal>
</template>
