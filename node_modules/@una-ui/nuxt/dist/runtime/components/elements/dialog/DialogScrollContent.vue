<script setup>
import { reactiveOmit } from "@vueuse/core";
import {
  DialogContent,
  DialogPortal,
  useForwardPropsEmits
} from "reka-ui";
import { computed } from "vue";
import { cn } from "../../../utils";
import DialogClose from "./DialogClose.vue";
import DialogOverlay from "./DialogOverlay.vue";
defineOptions({
  inheritAttrs: false
});
const props = defineProps({
  dismissible: { type: Boolean, required: false, default: true },
  showClose: { type: Boolean, required: false, default: true },
  overlay: { type: Boolean, required: false, default: true },
  _dialogClose: { type: Object, required: false },
  _dialogOverlay: { type: Object, required: false },
  una: { type: Object, required: false },
  forceMount: { type: Boolean, required: false },
  disableOutsidePointerEvents: { type: Boolean, required: false },
  asChild: { type: Boolean, required: false },
  as: { type: null, required: false },
  class: { type: null, required: false }
});
const emits = defineEmits(["escapeKeyDown", "pointerDownOutside", "focusOutside", "interactOutside", "openAutoFocus", "closeAutoFocus"]);
const delegatedProps = reactiveOmit(props, ["class", "_dialogOverlay", "_dialogClose"]);
const contentEvents = computed(() => {
  if (!props.dismissible) {
    return {
      pointerDownOutside: (e) => e.preventDefault(),
      interactOutside: (e) => e.preventDefault(),
      escapeKeyDown: (e) => e.preventDefault(),
      closeAutoFocus: (e) => e.preventDefault()
    };
  }
  return {
    closeAutoFocus: (e) => e.preventDefault()
  };
});
const forwarded = useForwardPropsEmits(delegatedProps, emits);
</script>

<template>
  <DialogPortal>
    <DialogOverlay
      v-if="overlay"
      v-bind="_dialogOverlay"
      :una
      scrollable
    >
      <DialogContent
        v-bind="{ ...forwarded, ...$attrs }"
        :class="cn(
  'dialog-scroll-content',
  props.una?.dialogContent,
  props.class
)"
        v-on="contentEvents"
      >
        <slot />

        <DialogClose
          v-if="showClose"
          v-bind="_dialogClose"
          class="dialog-close"
        />
      </DialogContent>
    </DialogOverlay>
  </DialogPortal>
</template>
