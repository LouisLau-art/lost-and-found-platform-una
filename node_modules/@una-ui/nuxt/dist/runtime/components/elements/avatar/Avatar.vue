<script setup>
import { AvatarRoot } from "reka-ui";
import { cn } from "../../../utils";
import AvatarFallback from "./AvatarFallback.vue";
import AvatarImage from "./AvatarImage.vue";
defineOptions({
  inheritAttrs: false
});
const props = defineProps({
  _avatarRoot: { type: Object, required: false },
  _avatarImage: { type: Object, required: false },
  _avatarFallback: { type: Object, required: false },
  una: { type: Object, required: false },
  class: { type: null, required: false },
  size: { type: null, required: false, default: "md" },
  square: { type: null, required: false, default: "2.5em" },
  rounded: { type: null, required: false, default: "full" },
  avatar: { type: null, required: false, default: "soft" },
  asChild: { type: Boolean, required: false },
  as: { type: null, required: false, default: "span" },
  label: { type: String, required: false },
  icon: { type: Boolean, required: false },
  delayMs: { type: Number, required: false },
  src: { type: String, required: false },
  alt: { type: String, required: false },
  referrerPolicy: { type: null, required: false },
  crossOrigin: { type: null, required: false }
});
</script>

<template>
  <AvatarRoot
    :class="cn(
  'avatar',
  una?.avatarRoot,
  props.class
)"
    :size
    :rounded
    :square
    :avatar
    v-bind="{ ..._avatarRoot, ...$attrs }"
  >
    <slot>
      <slot name="image">
        <AvatarImage
          v-if="src"
          :src
          :una
          :alt
          v-bind="_avatarImage"
        />
      </slot>

      <AvatarFallback
        :label="label || alt?.split(' ').map((word) => word[0]).join('').slice(0, 2)"
        :icon
        v-bind="_avatarFallback"
        :una
      >
        <slot name="fallback" />
      </AvatarFallback>
    </slot>
  </AvatarRoot>
</template>
